<div id="profile">
    <img id="user-icon" src="default-avatar.png" alt="User Icon">
    <h2 id="username">Username</h2>
</div>

<script>
    fetch('/api/profile')
        .then(response => {
            if (!response.ok) {
                window.location.href = '/login'; // Redirect if not logged in
                return;
            }
            return response.json();
        })
        .then(data => {
            if (data) {
                document.getElementById('user-icon').src = `https://cdn.discordapp.com/avatars/${data.id}/${data.avatar}.png`;
                document.getElementById('username').innerText = data.username;
            }
        });
</script>
